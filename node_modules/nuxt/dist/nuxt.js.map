{"version":3,"sources":["webpack:///webpack/bootstrap 6912eb6f37f3ba5b64da","webpack:///external \"lodash\"","webpack:///external \"path\"","webpack:///./lib/utils.js","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"debug\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"fs-extra\"","webpack:///external \"pify\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"webpack\"","webpack:///./lib/webpack/base.config.js","webpack:///./lib/webpack/helpers.js","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"hash-sum\"","webpack:///external \"serialize-javascript\"","webpack:///./lib/build.js","webpack:///./lib/generate.js","webpack:///./lib/module.js","webpack:///./lib/render.js","webpack:///./lib/server.js","webpack:///external \"compression\"","webpack:///external \"serve-static\"","webpack:///./lib/nuxt.js","webpack:///./lib/webpack/client.config.js","webpack:///./lib/webpack/server.config.js","webpack:///./lib/webpack/vue-loader.config.js","webpack:///external \"ansi-html\"","webpack:///external \"autoprefixer\"","webpack:///external \"babel-runtime/core-js/array/from\"","webpack:///external \"babel-runtime/helpers/slicedToArray\"","webpack:///external \"chokidar\"","webpack:///external \"connect\"","webpack:///external \"etag\"","webpack:///external \"fresh\"","webpack:///external \"friendly-errors-webpack-plugin\"","webpack:///external \"fs\"","webpack:///external \"glob\"","webpack:///external \"html-minifier\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"http\"","webpack:///external \"jsdom\"","webpack:///external \"memory-fs\"","webpack:///external \"offline-plugin\"","webpack:///external \"post-compile-webpack-plugin\"","webpack:///external \"progress-bar-webpack-plugin\"","webpack:///external \"vue-server-renderer\"","webpack:///external \"vue-server-renderer/client-plugin\"","webpack:///external \"vue-server-renderer/server-plugin\"","webpack:///external \"webpack-bundle-analyzer\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\"","webpack:///external \"webpack-node-externals\""],"names":["encodeHtml","str","replace","getContext","req","res","setAnsiColors","ansiHTML","setColors","reset","darkgrey","yellow","green","magenta","blue","cyan","red","ms","resolve","setTimeout","waitFor","urlJoin","slice","call","arguments","join","isUrl","url","indexOf","promisifyRoute","fn","Array","isArray","length","reject","err","routeParams","promise","then","sequence","tasks","reduce","task","chainFn","base","Function","apply","wp","p","test","process","platform","reqSep","sysSep","_","escapeRegExp","normalize","string","r","args","last","includes","map","isClient","isServer","nodeModulesDir","__dirname","config","devtool","dev","entry","vendor","output","publicPath","options","build","router","performance","maxEntrypointSize","maxAssetSize","hints","extensions","alias","srcDir","buildDir","modules","dir","resolveLoader","module","rules","loader","query","vueLoaderConfig","exclude","defaults","babel","presets","babelrc","cacheDirectory","use","styleLoader","plugins","extractStyles","push","filename","filenames","css","concat","loaders","extractCSS","ext","ExtractTextPlugin","extract","fallback","debug","createWebpackMiddleware","webpackWatchAndUpdate","watchFiles","webpackRunClient","webpackRunServer","addAppTemplate","buildFiles","templatesFiles","templateVars","uniqBy","isDev","mode","middleware","linkActiveClass","linkExactActiveClass","scrollBehavior","env","head","fs","existsSync","store","i","src","ssr","name","appPath","layouts","loading","transition","components","ErrorPage","glob","cwd","layoutsFiles","forEach","file","split","default","mkdirp","_nuxtPages","files","routes","createRoutes","extendRoutes","flatRoutes","customTemplateFiles","templates","t","dst","basename","customPath","customFileExists","custom","filter","all","watch","readFile","fileContent","template","imports","serialize","hash","content","path","dirname","writeFile","dateFS","Date","now","utimes","generateRoutesAndFiles","require","remove","pify","webpackStats","color","analyze","manifest","app","postcss","defaultsLoaders","limit","defaultsPostcss","browsers","extraDefaults","defaultsDeep","production","chunks","children","colors","serverConfig","getWebpackServerConfig","bundlePath","manifestPath","bundle","readFileSync","createRenderer","JSON","parse","_buildDone","_building","ready","console","error","exit","templatePath","appTemplate","interpolate","keys","route","component","parent","key","child","find","sort","a","b","_a","_b","y","z","cleanChildrenRoutes","isChild","start","routesIndex","s","names","paths","shift","getWebpackClientConfig","clientWebpackConfig","serverWebpackConfig","clientConfig","host","HOST","npm_package_config_nuxt_host","port","PORT","npm_package_config_nuxt_port","flatten","webpack","HotModuleReplacementPlugin","NoEmitOnErrorsPlugin","stats","hasErrors","hasWarnings","log","clientCompiler","webpackDevMiddleware","quiet","noInfo","watchOptions","watchers","webpackHotMiddleware","plugin","fileSystem","filePath","watchHandler","MFS","serverFS","clientFS","outputFileSystem","serverCompiler","bundleExists","manifestExists","webpackServerWatcher","run","toString","Error","renderer","createBundleRenderer","clientManifest","runInNewContext","basedir","renderToString","renderToStream","patterns","chokidar","ignoreInitial","refreshFiles","debounce","filesWatcher","on","customFilesWatcher","uniq","copy","interval","minify","collapseBooleanAttributes","collapseWhitespace","decodeEntities","minifyCSS","minifyJS","processConditionalComments","removeAttributeQuotes","removeComments","removeEmptyAttributes","removeOptionalTags","removeRedundantAttributes","removeScriptTypeAttributes","removeStyleLinkTypeAttributes","removeTagWhitespace","sortAttributes","sortClassName","trimCustomFragments","useShortDoctype","decorateWithPayloads","routeMap","payload","generateRoutes","isString","values","errors","generate","srcStaticPath","srcBuiltPath","distPath","distNuxtPath","n","splice","html","renderRoute","_generate","type","minifyErr","nojekyllPath","duration","Math","round","report","stack","Module","nuxt","initing","addModule","bind","srcPath","fileName","templateObj","addTemplate","serverMiddleware","extend","moduleOpts","originalSrc","substr","eval","e","result","render","context","statusCode","gzip","gzipMiddleware","serveStatic","serveStaticNuxt","end","redirected","resourceHints","etag","generateETag","fresh","headers","setHeader","Buffer","byteLength","regex","pushAssets","m","exec","rel","href","as","errorTemplate","APP","serverRendered","meta","inject","HEAD","text","title","link","style","script","noscript","_routerBaseSpecified","renderResourceHints","renderStyles","isJSON","renderScripts","HTML_ATTRS","htmlAttrs","BODY_ATTRS","bodyAttrs","jsdom","opts","resources","runScripts","beforeParse","window","scrollTo","virtualConsole","VirtualConsole","sendTo","JSDOM","fromURL","nuxtExists","document","body","innerHTML","_onNuxtLoaded","renderAndGetWindow","http","connect","Server","server","createServer","useMiddleware","handler","next","listen","cb","close","Nuxt","NODE_ENV","failedColor","height","static","threshold","weak","_ready","rootDir","appTemplatePath","maxAge","compression","utils","callback","promises","each","value","DefinePlugin","optimize","CommonsChunkPlugin","minChunks","request","Infinity","LoaderOptionsPlugin","minimize","UglifyJsPlugin","sourceMap","compress","warnings","offline","offlineOpts","target","libraryTarget","externals","nodeExternals","whitelist","babelOptions","preserveWhitespace"],"mappings":"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","file":"nuxt.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6912eb6f37f3ba5b64da","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","'use strict'\nimport { resolve, sep } from 'path'\nimport _ from 'lodash'\n\nexport function encodeHtml (str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nexport function getContext (req, res) {\n  return { req, res }\n}\n\nexport function setAnsiColors (ansiHTML) {\n  ansiHTML.setColors({\n    reset: ['efefef', 'a6004c'],\n    darkgrey: '5a012b',\n    yellow: 'ffab07',\n    green: 'aeefba',\n    magenta: 'ff84bf',\n    blue: '3505a0',\n    cyan: '56eaec',\n    red: '4e053a'\n  })\n}\n\nexport async function waitFor (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, (ms || 0))\n  })\n}\n\nexport function urlJoin () {\n  return [].slice.call(arguments).join('/').replace(/\\/+/g, '/').replace(':/', '://')\n}\n\nexport function isUrl (url) {\n  return (url.indexOf('http') === 0 || url.indexOf('//') === 0)\n}\n\nexport function promisifyRoute (fn) {\n  // If routes is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routes is a function expecting a callback\n  if (fn.length === 1) {\n    return new Promise((resolve, reject) => {\n      fn(function (err, routeParams) {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      })\n    })\n  }\n  let promise = fn()\n  if (!promise || (!(promise instanceof Promise) && (typeof promise.then !== 'function'))) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\nexport function sequence (tasks, fn) {\n  return tasks.reduce((promise, task) => promise.then(() => fn(task)), Promise.resolve())\n}\n\nexport function chainFn (base, fn) {\n  /* istanbul ignore if */\n  if (!(fn instanceof Function)) {\n    return\n  }\n  return function () {\n    if (base instanceof Function) {\n      base.apply(this, arguments)\n    }\n    fn.apply(this, arguments)\n  }\n}\n\nexport function wp (p) {\n  /* istanbul ignore if */\n  if (/^win/.test(process.platform)) {\n    p = p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\n\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(sep)\nconst normalize = string => string.replace(reqSep, sysSep)\n\nexport function r () {\n  let args = Array.from(arguments)\n  if (_.last(args).includes('~')) {\n    return wp(_.last(args))\n  }\n  args = args.map(normalize)\n  return wp(resolve.apply(null, args))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","module.exports = require(\"babel-runtime/core-js/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/promise\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"pify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pify\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 13\n// module chunks = 0","'use strict'\n\nimport vueLoaderConfig from './vue-loader.config'\nimport { defaults } from 'lodash'\nimport { join } from 'path'\nimport { isUrl, urlJoin } from '../utils'\nimport { styleLoader, extractStyles } from './helpers'\nimport ExtractTextPlugin from 'extract-text-webpack-plugin'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Shared Config\n|\n| This is the config which is extended by the server and client\n| webpack config files\n|--------------------------------------------------------------------------\n*/\nexport default function ({ isClient, isServer }) {\n  const nodeModulesDir = join(__dirname, '..', 'node_modules')\n  let config = {\n    devtool: (this.dev ? 'cheap-module-source-map' : false),\n    entry: {\n      vendor: ['vue', 'vue-router', 'vue-meta']\n    },\n    output: {\n      publicPath: (isUrl(this.options.build.publicPath) ? this.options.build.publicPath : urlJoin(this.options.router.base, this.options.build.publicPath))\n    },\n    performance: {\n      maxEntrypointSize: 300000,\n      maxAssetSize: 300000,\n      hints: (this.dev ? false : 'warning')\n    },\n    resolve: {\n      extensions: ['.js', '.json', '.vue', '.ts'],\n      // Disable for now\n      alias: {\n        '~': join(this.srcDir),\n        'static': join(this.srcDir, 'static'), // use in template with <img src=\"~static/nuxt.png\" />\n        '~static': join(this.srcDir, 'static'),\n        'assets': join(this.srcDir, 'assets'), // use in template with <img src=\"~assets/nuxt.png\" />\n        '~assets': join(this.srcDir, 'assets'),\n        '~plugins': join(this.srcDir, 'plugins'),\n        '~store': join(this.buildDir, 'store'),\n        '~router': join(this.buildDir, 'router'),\n        '~pages': join(this.srcDir, 'pages'),\n        '~components': join(this.srcDir, 'components')\n      },\n      modules: [\n        join(this.dir, 'node_modules'),\n        nodeModulesDir\n      ]\n    },\n    resolveLoader: {\n      modules: [\n        join(this.dir, 'node_modules'),\n        nodeModulesDir\n      ]\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.vue$/,\n          loader: 'vue-loader',\n          query: vueLoaderConfig.call(this, { isClient, isServer })\n        },\n        {\n          test: /\\.js$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          query: defaults(this.options.build.babel, {\n            presets: ['vue-app'],\n            babelrc: false,\n            cacheDirectory: !!this.dev\n          })\n        },\n        { test: /\\.css$/, use: styleLoader.call(this, 'css') },\n        { test: /\\.less$/, use: styleLoader.call(this, 'less', 'less-loader') },\n        { test: /\\.sass$/, use: styleLoader.call(this, 'sass', 'sass-loader?indentedSyntax&sourceMap') },\n        { test: /\\.scss$/, use: styleLoader.call(this, 'sass', 'sass-loader?sourceMap') },\n        { test: /\\.styl(us)?$/, use: styleLoader.call(this, 'stylus', 'stylus-loader') }\n      ]\n    },\n    plugins: this.options.build.plugins\n  }\n  // CSS extraction\n  if (extractStyles.call(this)) {\n    config.plugins.push(\n      new ExtractTextPlugin({filename: this.options.build.filenames.css})\n    )\n  }\n  // Add nuxt build loaders (can be configured in nuxt.config.js)\n  config.module.rules = config.module.rules.concat(this.options.build.loaders)\n  // Return config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/base.config.js","import ExtractTextPlugin from 'extract-text-webpack-plugin'\n\nexport function extractStyles () {\n  return !this.dev && this.options.build.extractCSS\n}\n\nexport function styleLoader (ext, loader = []) {\n  if (extractStyles.call(this)) {\n    return ExtractTextPlugin.extract({\n      use: ['css-loader?minify&sourceMap'].concat(loader),\n      fallback: 'vue-style-loader?sourceMap'\n    })\n  }\n  return ['vue-style-loader?sourceMap', 'css-loader?sourceMap'].concat(loader)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/helpers.js","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"hash-sum\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hash-sum\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 19\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport chokidar from 'chokidar'\nimport fs from 'fs-extra'\nimport hash from 'hash-sum'\nimport pify from 'pify'\nimport webpack from 'webpack'\nimport PostCompilePlugin from 'post-compile-webpack-plugin'\nimport serialize from 'serialize-javascript'\nimport { createBundleRenderer } from 'vue-server-renderer'\nimport { join, resolve, basename, dirname } from 'path'\nimport { isUrl, r, wp } from './utils'\nimport clientWebpackConfig from './webpack/client.config.js'\nimport serverWebpackConfig from './webpack/server.config.js'\nconst debug = require('debug')('nuxt:build')\nconst remove = pify(fs.remove)\nconst readFile = pify(fs.readFile)\nconst utimes = pify(fs.utimes)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\nconst glob = pify(require('glob'))\n\nlet webpackStats = 'none'\ndebug.color = 2 // force green color\n\nconst defaults = {\n  analyze: false,\n  extractCSS: false,\n  publicPath: '/_nuxt/',\n  filenames: {\n    css: 'common.[chunkhash].css',\n    manifest: 'manifest.[hash].js',\n    vendor: 'vendor.bundle.[chunkhash].js',\n    app: 'nuxt.bundle.[chunkhash].js'\n  },\n  vendor: [],\n  loaders: [],\n  plugins: [],\n  babel: {},\n  postcss: [],\n  templates: [],\n  watch: []\n}\nconst defaultsLoaders = [\n  {\n    test: /\\.(png|jpe?g|gif|svg)$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1KO\n      name: 'img/[name].[hash:7].[ext]'\n    }\n  },\n  {\n    test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n    loader: 'url-loader',\n    query: {\n      limit: 1000, // 1 KO\n      name: 'fonts/[name].[hash:7].[ext]'\n    }\n  }\n]\nconst defaultsPostcss = [\n  require('autoprefixer')({\n    browsers: ['last 3 versions']\n  })\n]\n\nexport function options () {\n  // Defaults build options\n  let extraDefaults = {}\n  if (this.options.build && !Array.isArray(this.options.build.loaders)) extraDefaults.loaders = defaultsLoaders\n  if (this.options.build && !Array.isArray(this.options.build.postcss)) extraDefaults.postcss = defaultsPostcss\n  this.options.build = _.defaultsDeep(this.options.build, defaults, extraDefaults)\n  /* istanbul ignore if */\n  if (this.dev && isUrl(this.options.build.publicPath)) {\n    this.options.build.publicPath = defaults.publicPath\n  }\n}\n\nexport function production () {\n  // Production, create server-renderer\n  webpackStats = {\n    chunks: false,\n    children: false,\n    modules: false,\n    colors: true\n  }\n  const serverConfig = getWebpackServerConfig.call(this)\n  const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n  const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n  if (fs.existsSync(bundlePath) && fs.existsSync(manifestPath)) {\n    const bundle = fs.readFileSync(bundlePath, 'utf8')\n    const manifest = fs.readFileSync(manifestPath, 'utf8')\n    createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n    addAppTemplate.call(this)\n  }\n}\n\nexport async function build () {\n  // Avoid calling this method multiple times\n  if (this._buildDone) {\n    return this\n  }\n  // If building\n  if (this._building) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.build())\n      }, 300)\n    })\n  }\n  this._building = true\n  // Wait for Nuxt.js to be ready\n  await this.ready()\n  // Check if pages dir exists and warn if not\n  this._nuxtPages = typeof this.createRoutes !== 'function'\n  if (this._nuxtPages) {\n    if (!fs.existsSync(join(this.srcDir, 'pages'))) {\n      if (fs.existsSync(join(this.srcDir, '..', 'pages'))) {\n        console.error('> No `pages` directory found. Did you mean to run `nuxt` in the parent (`../`) directory?') // eslint-disable-line no-console\n      } else {\n        console.error('> Couldn\\'t find a `pages` directory. Please create one under the project root') // eslint-disable-line no-console\n      }\n      process.exit(1)\n    }\n  }\n  debug(`App root: ${this.srcDir}`)\n  debug(`Generating ${this.buildDir} files...`)\n  // Create .nuxt/, .nuxt/components and .nuxt/dist folders\n  await remove(r(this.buildDir))\n  await mkdirp(r(this.buildDir, 'components'))\n  if (!this.dev) {\n    await mkdirp(r(this.buildDir, 'dist'))\n  }\n  // Generate routes and interpret the template files\n  await generateRoutesAndFiles.call(this)\n  // Generate .nuxt/dist/ files\n  await buildFiles.call(this)\n  // Flag to set that building is done\n  this._buildDone = true\n  return this\n}\n\nasync function buildFiles () {\n  if (this.dev) {\n    debug('Adding webpack middleware...')\n    createWebpackMiddleware.call(this)\n    webpackWatchAndUpdate.call(this)\n    watchFiles.call(this)\n  } else {\n    debug('Building files...')\n    await webpackRunClient.call(this)\n    await webpackRunServer.call(this)\n    addAppTemplate.call(this)\n  }\n}\n\nfunction addAppTemplate () {\n  let templatePath = resolve(this.buildDir, 'dist', 'index.html')\n  if (fs.existsSync(templatePath)) {\n    this.appTemplate = _.template(fs.readFileSync(templatePath, 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n  }\n}\n\nasync function generateRoutesAndFiles () {\n  debug('Generating files...')\n  // -- Templates --\n  let templatesFiles = [\n    'App.vue',\n    'client.js',\n    'index.js',\n    'middleware.js',\n    'router.js',\n    'server.js',\n    'utils.js',\n    'components/nuxt-error.vue',\n    'components/nuxt-loading.vue',\n    'components/nuxt-child.js',\n    'components/nuxt-link.js',\n    'components/nuxt.vue'\n  ]\n  const templateVars = {\n    options: this.options,\n    uniqBy: _.uniqBy,\n    isDev: this.dev,\n    router: {\n      mode: this.options.router.mode,\n      base: this.options.router.base,\n      middleware: this.options.router.middleware,\n      linkActiveClass: this.options.router.linkActiveClass,\n      linkExactActiveClass: this.options.router.linkExactActiveClass,\n      scrollBehavior: this.options.router.scrollBehavior\n    },\n    env: this.options.env,\n    head: this.options.head,\n    middleware: fs.existsSync(join(this.srcDir, 'middleware')),\n    store: this.options.store || fs.existsSync(join(this.srcDir, 'store')),\n    css: this.options.css,\n    plugins: this.options.plugins.map((p, i) => {\n      if (typeof p === 'string') p = { src: p }\n      p.src = r(this.srcDir, p.src)\n      return { src: p.src, ssr: (p.ssr !== false), name: `plugin${i}` }\n    }),\n    appPath: './App.vue',\n    layouts: Object.assign({}, this.options.layouts),\n    loading: (typeof this.options.loading === 'string' ? r(this.srcDir, this.options.loading) : this.options.loading),\n    transition: this.options.transition,\n    components: {\n      ErrorPage: this.options.ErrorPage ? r(this.options.ErrorPage) : null\n    }\n  }\n\n  // -- Layouts --\n  if (fs.existsSync(resolve(this.srcDir, 'layouts'))) {\n    const layoutsFiles = await glob('layouts/*.vue', {cwd: this.srcDir})\n    layoutsFiles.forEach((file) => {\n      let name = file.split('/').slice(-1)[0].replace('.vue', '')\n      if (name === 'error') return\n      templateVars.layouts[name] = r(this.srcDir, file)\n    })\n    if (layoutsFiles.includes('layouts/error.vue')) {\n      templateVars.components.ErrorPage = r(this.srcDir, 'layouts/error.vue')\n    }\n  }\n  // If no default layout, create its folder and add the default folder\n  if (!templateVars.layouts.default) {\n    await mkdirp(r(this.buildDir, 'layouts'))\n    templatesFiles.push('layouts/default.vue')\n    templateVars.layouts.default = r(__dirname, 'app', 'layouts', 'default.vue')\n  }\n\n  // -- Routes --\n  debug('Generating routes...')\n  // If user defined a custom method to create routes\n  if (this._nuxtPages) {\n    // Use nuxt.js createRoutes bases on pages/\n    const files = await glob('pages/**/*.vue', {cwd: this.srcDir})\n    templateVars.router.routes = createRoutes(files, this.srcDir)\n  } else {\n    templateVars.router.routes = this.createRoutes(this.srcDir)\n  }\n  // router.extendRoutes method\n  if (typeof this.options.router.extendRoutes === 'function') {\n    // let the user extend the routes\n    this.options.router.extendRoutes.call(this, templateVars.router.routes || [], r)\n  }\n  // Routes for generate command\n  this.routes = flatRoutes(templateVars.router.routes || [])\n\n  // -- Store --\n  // Add store if needed\n  if (this.options.store) {\n    templatesFiles.push('store.js')\n  }\n\n  // Resolve template files\n  const customTemplateFiles = this.options.build.templates.map(t => t.dst || basename(t.src || t))\n  templatesFiles = templatesFiles.map(file => {\n    // Skip if custom file was already provided in build.templates[]\n    if (customTemplateFiles.indexOf(file) !== -1) {\n      return\n    }\n    // Allow override templates using a file with same name in ${srcDir}/app\n    const customPath = r(this.srcDir, 'app', file)\n    const customFileExists = fs.existsSync(customPath)\n    return {\n      src: customFileExists ? customPath : r(__dirname, 'app', file),\n      dst: file,\n      custom: customFileExists\n    }\n  }).filter(i => !!i)\n\n  // -- Custom templates --\n  // Add custom template files\n  templatesFiles = templatesFiles.concat(this.options.build.templates.map(t => {\n    return Object.assign({\n      src: r(this.dir, t.src || t),\n      dst: t.dst || basename(t.src || t),\n      custom: true\n    }, t)\n  }))\n\n  // Interpret and move template files to .nuxt/\n  return Promise.all(templatesFiles.map(async ({ src, dst, options, custom }) => {\n    // Add template to watchers\n    this.options.build.watch.push(src)\n    // Render template to dst\n    const fileContent = await readFile(src, 'utf8')\n    const template = _.template(fileContent, {\n      imports: {\n        serialize,\n        hash,\n        r,\n        wp\n      }\n    })\n    const content = template(Object.assign({}, templateVars, {\n      options: options || {},\n      custom,\n      src,\n      dst\n    }))\n    const path = r(this.buildDir, dst)\n    // Ensure parent dir exits\n    await mkdirp(dirname(path))\n    // Write file\n    await writeFile(path, content, 'utf8')\n    // Fix webpack loop (https://github.com/webpack/watchpack/issues/25#issuecomment-287789288)\n    const dateFS = Date.now() / 1000 - 30\n    return utimes(path, dateFS, dateFS)\n  }))\n}\n\nfunction createRoutes (files, srcDir) {\n  let routes = []\n  files.forEach((file) => {\n    let keys = file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/{2,}/g, '/').split('/').slice(1)\n    let route = { name: '', path: '', component: r(srcDir, file) }\n    let parent = routes\n    keys.forEach((key, i) => {\n      route.name = route.name ? route.name + '-' + key.replace('_', '') : key.replace('_', '')\n      route.name += (key === '_') ? 'all' : ''\n      let child = _.find(parent, { name: route.name })\n      if (child) {\n        if (!child.children) {\n          child.children = []\n        }\n        parent = child.children\n        route.path = ''\n      } else {\n        if (key === 'index' && (i + 1) === keys.length) {\n          route.path += (i > 0 ? '' : '/')\n        } else {\n          route.path += '/' + (key === '_' ? '*' : key.replace('_', ':'))\n          if (key !== '_' && key.indexOf('_') !== -1) {\n            route.path += '?'\n          }\n        }\n      }\n    })\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      if (!a.path.length || a.path === '/') { return -1 }\n      if (!b.path.length || b.path === '/') { return 1 }\n      var res = 0\n      var _a = a.path.split('/')\n      var _b = b.path.split('/')\n      for (var i = 0; i < _a.length; i++) {\n        if (res !== 0) { break }\n        var y = (_a[i].indexOf('*') > -1) ? 2 : (_a[i].indexOf(':') > -1 ? 1 : 0)\n        var z = (_b[i].indexOf('*') > -1) ? 2 : (_b[i].indexOf(':') > -1 ? 1 : 0)\n        res = y - z\n        if (i === _b.length - 1 && res === 0) {\n          res = 1\n        }\n      }\n      return res === 0 ? -1 : res\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n\nfunction cleanChildrenRoutes (routes, isChild = false) {\n  let start = -1\n  let routesIndex = []\n  routes.forEach((route) => {\n    if (/-index$/.test(route.name) || route.name === 'index') {\n      // Save indexOf 'index' key in name\n      let res = route.name.split('-')\n      let s = res.indexOf('index')\n      start = (start === -1 || s < start) ? s : start\n      routesIndex.push(res)\n    }\n  })\n  routes.forEach((route) => {\n    route.path = (isChild) ? route.path.replace('/', '') : route.path\n    if (route.path.indexOf('?') > -1) {\n      let names = route.name.split('-')\n      let paths = route.path.split('/')\n      if (!isChild) { paths.shift() } // clean first / for parents\n      routesIndex.forEach((r) => {\n        let i = r.indexOf('index') - start //  children names\n        if (i < paths.length) {\n          for (var a = 0; a <= i; a++) {\n            if (a === i) { paths[a] = paths[a].replace('?', '') }\n            if (a < i && names[a] !== r[a]) { break }\n          }\n        }\n      })\n      route.path = (isChild ? '' : '/') + paths.join('/')\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      if (route.children.find((child) => child.path === '')) {\n        delete route.name\n      }\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nfunction flatRoutes (router, path = '', routes = []) {\n  router.forEach((r) => {\n    if (!r.path.includes(':') && !r.path.includes('*')) {\n      if (r.children) {\n        flatRoutes(r.children, path + r.path + '/', routes)\n      } else {\n        routes.push((r.path === '' && path[path.length - 1] === '/' ? path.slice(0, -1) : path) + r.path)\n      }\n    }\n  })\n  return routes\n}\n\nfunction getWebpackClientConfig () {\n  return clientWebpackConfig.call(this)\n}\n\nfunction getWebpackServerConfig () {\n  return serverWebpackConfig.call(this)\n}\n\nfunction createWebpackMiddleware () {\n  const clientConfig = getWebpackClientConfig.call(this)\n  const host = process.env.HOST || process.env.npm_package_config_nuxt_host || '127.0.0.1'\n  const port = process.env.PORT || process.env.npm_package_config_nuxt_port || '3000'\n  // setup on the fly compilation + hot-reload\n  clientConfig.entry.app = _.flatten(['webpack-hot-middleware/client?reload=true', clientConfig.entry.app])\n  clientConfig.plugins.push(\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoEmitOnErrorsPlugin(),\n    new PostCompilePlugin(stats => {\n      if (!stats.hasErrors() && !stats.hasWarnings()) {\n        console.log(`> Open http://${host}:${port}\\n`) // eslint-disable-line no-console\n      }\n    })\n  )\n  const clientCompiler = webpack(clientConfig)\n  this.clientCompiler = clientCompiler\n  // Add the middleware to the instance context\n  this.webpackDevMiddleware = pify(require('webpack-dev-middleware')(clientCompiler, {\n    publicPath: clientConfig.output.publicPath,\n    stats: webpackStats,\n    quiet: true,\n    noInfo: true,\n    watchOptions: this.options.watchers.webpack\n  }))\n  this.webpackHotMiddleware = pify(require('webpack-hot-middleware')(clientCompiler, {\n    log: () => {}\n  }))\n  clientCompiler.plugin('done', () => {\n    const fs = this.webpackDevMiddleware.fileSystem\n    const filePath = join(clientConfig.output.path, 'index.html')\n    if (fs.existsSync(filePath)) {\n      const template = fs.readFileSync(filePath, 'utf-8')\n      this.appTemplate = _.template(template, {\n        interpolate: /{{([\\s\\S]+?)}}/g\n      })\n    }\n    this.watchHandler()\n  })\n}\n\nfunction webpackWatchAndUpdate () {\n  const MFS = require('memory-fs') // <- dependencies of webpack\n  const serverFS = new MFS()\n  const clientFS = this.clientCompiler.outputFileSystem\n  const serverConfig = getWebpackServerConfig.call(this)\n  const serverCompiler = webpack(serverConfig)\n  const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n  const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n  serverCompiler.outputFileSystem = serverFS\n  const watchHandler = (err) => {\n    if (err) throw err\n    const bundleExists = serverFS.existsSync(bundlePath)\n    const manifestExists = clientFS.existsSync(manifestPath)\n    if (bundleExists && manifestExists) {\n      const bundle = serverFS.readFileSync(bundlePath, 'utf8')\n      const manifest = clientFS.readFileSync(manifestPath, 'utf8')\n      createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n    }\n  }\n  this.watchHandler = watchHandler\n  this.webpackServerWatcher = serverCompiler.watch(this.options.watchers.webpack, watchHandler)\n}\n\nfunction webpackRunClient () {\n  return new Promise((resolve, reject) => {\n    const clientConfig = getWebpackClientConfig.call(this)\n    const clientCompiler = webpack(clientConfig)\n    clientCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:client]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      resolve()\n    })\n  })\n}\n\nfunction webpackRunServer () {\n  return new Promise((resolve, reject) => {\n    const serverConfig = getWebpackServerConfig.call(this)\n    const serverCompiler = webpack(serverConfig)\n    serverCompiler.run((err, stats) => {\n      if (err) return reject(err)\n      console.log('[nuxt:build:server]\\n', stats.toString(webpackStats)) // eslint-disable-line no-console\n      if (stats.hasErrors()) return reject(new Error('Webpack build exited with errors'))\n      const bundlePath = join(serverConfig.output.path, 'server-bundle.json')\n      const manifestPath = join(serverConfig.output.path, 'client-manifest.json')\n      readFile(bundlePath, 'utf8')\n      .then(bundle => {\n        readFile(manifestPath, 'utf8')\n        .then(manifest => {\n          createRenderer.call(this, JSON.parse(bundle), JSON.parse(manifest))\n          resolve()\n        })\n      })\n    })\n  })\n}\n\nfunction createRenderer (bundle, manifest) {\n  // Create bundle renderer to give a fresh context for every request\n  this.renderer = createBundleRenderer(bundle, Object.assign({\n    clientManifest: manifest,\n    runInNewContext: false,\n    basedir: this.dir\n  }, this.options.build.ssr))\n  this.renderToString = pify(this.renderer.renderToString)\n  this.renderToStream = this.renderer.renderToStream\n}\n\nfunction watchFiles () {\n  const patterns = [\n    r(this.srcDir, 'layouts'),\n    r(this.srcDir, 'store'),\n    r(this.srcDir, 'middleware'),\n    r(this.srcDir, 'layouts/*.vue'),\n    r(this.srcDir, 'layouts/**/*.vue')\n  ]\n  if (this._nuxtPages) {\n    patterns.push(r(this.srcDir, 'pages'))\n    patterns.push(r(this.srcDir, 'pages/*.vue'))\n    patterns.push(r(this.srcDir, 'pages/**/*.vue'))\n  }\n  const options = Object.assign({}, this.options.watchers.chokidar, {\n    ignoreInitial: true\n  })\n  /* istanbul ignore next */\n  const refreshFiles = _.debounce(async () => {\n    await generateRoutesAndFiles.call(this)\n  }, 200)\n  // Watch for internals\n  this.filesWatcher = chokidar.watch(patterns, options)\n  .on('add', refreshFiles)\n  .on('unlink', refreshFiles)\n  // Watch for custom provided files\n  this.customFilesWatcher = chokidar.watch(_.uniq(this.options.build.watch), options)\n  .on('change', refreshFiles)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/build.js","'use strict'\n\nimport fs from 'fs-extra'\nimport pify from 'pify'\nimport _ from 'lodash'\nimport { resolve, join, dirname, sep } from 'path'\nimport { isUrl, promisifyRoute, waitFor } from './utils'\nimport { minify } from 'html-minifier'\nconst debug = require('debug')('nuxt:generate')\nconst copy = pify(fs.copy)\nconst remove = pify(fs.remove)\nconst writeFile = pify(fs.writeFile)\nconst mkdirp = pify(fs.mkdirp)\n\nconst defaults = {\n  dir: 'dist',\n  routes: [],\n  interval: 0,\n  minify: {\n    collapseBooleanAttributes: true,\n    collapseWhitespace: true,\n    decodeEntities: true,\n    minifyCSS: true,\n    minifyJS: true,\n    processConditionalComments: true,\n    removeAttributeQuotes: false,\n    removeComments: false,\n    removeEmptyAttributes: true,\n    removeOptionalTags: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: false,\n    removeStyleLinkTypeAttributes: false,\n    removeTagWhitespace: false,\n    sortAttributes: true,\n    sortClassName: true,\n    trimCustomFragments: true,\n    useShortDoctype: true\n  }\n}\n\nexport default async function () {\n  const s = Date.now()\n  let errors = []\n  /*\n  ** Wait for modules to be initialized\n  */\n  await this.ready()\n  /*\n  ** Set variables\n  */\n  this.options.generate = _.defaultsDeep(this.options.generate, defaults)\n  var srcStaticPath = resolve(this.srcDir, 'static')\n  var srcBuiltPath = resolve(this.buildDir, 'dist')\n  var distPath = resolve(this.dir, this.options.generate.dir)\n  var distNuxtPath = join(distPath, (isUrl(this.options.build.publicPath) ? '' : this.options.build.publicPath))\n  /*\n  ** Launch build process\n  */\n  await this.build()\n  /*\n  ** Clean destination folder\n  */\n  try {\n    await remove(distPath)\n    debug('Destination folder cleaned')\n  } catch (e) {}\n  /*\n  ** Copy static and built files\n  */\n  if (fs.existsSync(srcStaticPath)) {\n    await copy(srcStaticPath, distPath)\n  }\n  await copy(srcBuiltPath, distNuxtPath)\n  debug('Static & build files copied')\n  if (this.options.router.mode !== 'hash') {\n    // Resolve config.generate.routes promises before generating the routes\n    try {\n      var generateRoutes = await promisifyRoute(this.options.generate.routes || [])\n    } catch (e) {\n      console.error('Could not resolve routes') // eslint-disable-line no-console\n      console.error(e) // eslint-disable-line no-console\n      process.exit(1)\n      throw e // eslint-disable-line no-unreachable\n    }\n  }\n  function decorateWithPayloads (routes) {\n    let routeMap = {}\n    // Fill routeMap for known routes\n    routes.forEach((route) => {\n      routeMap[route] = {\n        route,\n        payload: null\n      }\n    })\n    // Fill routeMap with given generate.routes\n    generateRoutes.forEach((route) => {\n      // route is either a string or like {route : \"/my_route/1\"}\n      const path = _.isString(route) ? route : route.route\n      routeMap[path] = {\n        route: path,\n        payload: route.payload || null\n      }\n    })\n    return _.values(routeMap)\n  }\n  /*\n  ** Generate only index.html for router.mode = 'hash'\n  */\n  let routes = (this.options.router.mode === 'hash') ? ['/'] : this.routes\n  routes = decorateWithPayloads(routes)\n\n  while (routes.length) {\n    let n = 0\n    await Promise.all(routes.splice(0, 1).map(async ({route, payload}) => {\n      await waitFor(n++ * this.options.generate.interval)\n      let html\n      try {\n        const res = await this.renderRoute(route, { _generate: true, payload })\n        html = res.html\n        if (res.error) {\n          errors.push({ type: 'handled', route, error: res.error })\n        }\n      } catch (err) {\n        /* istanbul ignore next */\n        return errors.push({ type: 'unhandled', route, error: err })\n      }\n      if (this.options.generate.minify) {\n        try {\n          html = minify(html, this.options.generate.minify)\n        } catch (err) /* istanbul ignore next */ {\n          const minifyErr = new Error(`HTML minification failed. Make sure the route generates valid HTML. Failed HTML:\\n ${html}`)\n          errors.push({ type: 'unhandled', route, error: minifyErr })\n        }\n      }\n      let path = join(route, sep, 'index.html') // /about -> /about/index.html\n      debug('Generate file: ' + path)\n      path = join(distPath, path)\n      // Make sure the sub folders are created\n      await mkdirp(dirname(path))\n      await writeFile(path, html, 'utf8')\n    }))\n  }\n  // Add .nojekyll file to let Github Pages add the _nuxt/ folder\n  // https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/\n  const nojekyllPath = resolve(distPath, '.nojekyll')\n  writeFile(nojekyllPath, '')\n  const duration = Math.round((Date.now() - s) / 100) / 10\n  debug(`HTML Files generated in ${duration}s`)\n\n  if (errors.length) {\n    const report = errors.map(({ type, route, error }) => {\n      /* istanbul ignore if */\n      if (type === 'unhandled') {\n        return `Route: '${route}'\\n${error.stack}`\n      } else {\n        return `Route: '${route}' thrown an error: \\n` + JSON.stringify(error)\n      }\n    })\n    console.error('==== Error report ==== \\n' + report.join('\\n\\n')) // eslint-disable-line no-console\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generate.js","'use strict'\n\nimport path from 'path'\nimport fs from 'fs'\nimport {uniq} from 'lodash'\nimport hash from 'hash-sum'\nimport {chainFn, sequence} from './utils'\n\nconst debug = require('debug')('nuxt:module')\n\nclass Module {\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.modules = []\n    this.initing = this.ready()\n  }\n\n  async ready () {\n    if (this.initing) {\n      await this.initing\n      return this\n    }\n    // Install all modules in sequence\n    await sequence(this.options.modules, this.addModule.bind(this))\n    return this\n  }\n\n  addVendor (vendor) {\n    /* istanbul ignore if */\n    if (!vendor) {\n      return\n    }\n    this.options.build.vendor = uniq(this.options.build.vendor.concat(vendor))\n  }\n\n  addTemplate (template) {\n    /* istanbul ignore if */\n    if (!template) {\n      return\n    }\n    // Validate & parse source\n    const src = template.src || template\n    const srcPath = path.parse(src)\n    /* istanbul ignore if */\n    if (!src || typeof src !== 'string' || !fs.existsSync(src)) {\n      debug('[nuxt] invalid template', template)\n      return\n    }\n    // Generate unique and human readable dst filename\n    const dst = template.fileName ||\n      (path.basename(srcPath.dir) + '.' + srcPath.name + '.' + hash(src) + srcPath.ext)\n    // Add to templates list\n    const templateObj = {\n      src,\n      dst,\n      options: template.options\n    }\n    this.options.build.templates.push(templateObj)\n    return templateObj\n  }\n\n  addPlugin (template) {\n    const {dst} = this.addTemplate(template)\n    // Add to nuxt plugins\n    this.options.plugins.push({\n      src: path.join(this.nuxt.buildDir, dst),\n      ssr: template.ssr\n    })\n  }\n\n  addServerMiddleware (middleware) {\n    this.options.serverMiddleware.push(middleware)\n  }\n\n  extendBuild (fn) {\n    this.options.build.extend = chainFn(this.options.build.extend, fn)\n  }\n\n  extendRoutes (fn) {\n    this.options.router.extendRoutes = chainFn(this.options.router.extendRoutes, fn)\n  }\n\n  requireModule (moduleOpts) {\n    if (this.modules.indexOf(moduleOpts) !== -1 || this.modules.indexOf(moduleOpts.src) !== -1) {\n      return false\n    }\n    this.modules.push(moduleOpts.src || moduleOpts)\n    return this.addModule(moduleOpts)\n  }\n\n  addModule (moduleOpts) {\n    /* istanbul ignore if */\n    if (!moduleOpts) {\n      return\n    }\n    // Allow using babel style array options\n    if (Array.isArray(moduleOpts)) {\n      moduleOpts = {\n        src: moduleOpts[0],\n        options: moduleOpts[1]\n      }\n    }\n    // Allows passing runtime options to each module\n    const options = moduleOpts.options || (typeof moduleOpts === 'object' ? moduleOpts : {})\n    const originalSrc = moduleOpts.src || moduleOpts\n    // Resolve module\n    let module = originalSrc\n    try {\n      if (typeof module === 'string') {\n        // Using ~ or ./ shorthand modules are resolved from project srcDir\n        if (module.indexOf('~') === 0 || module.indexOf('./') === 0) {\n          module = path.join(this.options.srcDir, module.substr(1))\n        }\n        // eslint-disable-next-line no-eval\n        module = eval('require')(module)\n      }\n    } catch (e) /* istanbul ignore next */ {\n      // eslint-disable-next-line no-console\n      console.error('[nuxt] Unable to resolve module', module)\n      // eslint-disable-next-line no-console\n      console.error(e)\n      process.exit(0)\n    }\n    // Validate module\n    /* istanbul ignore if */\n    if (typeof module !== 'function') {\n      // eslint-disable-next-line no-console\n      console.error(`[nuxt] Module [${originalSrc}] should export a function`)\n      process.exit(1)\n    }\n    // Call module with `this` context and pass options\n    return new Promise((resolve, reject) => {\n      const result = module.call(this, options, err => {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err)\n        }\n        resolve(module)\n      })\n      // If module send back a promise\n      if (result && result.then instanceof Function) {\n        return result.then(resolve)\n      }\n      // If not expecting a callback but returns no promise (=synchronous)\n      if (module.length < 2) {\n        return resolve(module)\n      }\n    })\n  }\n}\n\nexport default Module\n\n\n\n// WEBPACK FOOTER //\n// ./lib/module.js","'use strict'\n\nimport ansiHTML from 'ansi-html'\nimport serialize from 'serialize-javascript'\nimport generateETag from 'etag'\nimport fresh from 'fresh'\nimport { getContext, setAnsiColors, encodeHtml } from './utils'\nconst debug = require('debug')('nuxt:render')\n// force blue color\ndebug.color = 4\nsetAnsiColors(ansiHTML)\n\nexport async function render (req, res) {\n  // Wait for nuxt.js to be ready\n  await this.ready()\n  // Check if project is built for production\n  if (!this.renderer && !this.dev) {\n    console.error('> No build files found, please run `nuxt build` before launching `nuxt start`') // eslint-disable-line no-console\n    process.exit(1)\n  }\n  /* istanbul ignore if */\n  if (!this.renderer || !this.appTemplate) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.render(req, res))\n      }, 1000)\n    })\n  }\n  // Get context\n  const context = getContext(req, res)\n  res.statusCode = 200\n  try {\n    if (this.dev) {\n      // Call webpack middleware only in development\n      await this.webpackDevMiddleware(req, res)\n      await this.webpackHotMiddleware(req, res)\n    }\n    if (!this.dev && this.options.render.gzip) {\n      await this.gzipMiddleware(req, res)\n    }\n    // If base in req.url, remove it for the middleware and vue-router\n    if (this.options.router.base !== '/' && req.url.indexOf(this.options.router.base) === 0) {\n      // Compatibility with base url for dev server\n      req.url = req.url.replace(this.options.router.base, '/')\n    }\n    // Serve static/ files\n    await this.serveStatic(req, res)\n    // Serve .nuxt/dist/ files (only for production)\n    if (!this.dev && req.url.indexOf(this.options.build.publicPath) === 0) {\n      const url = req.url\n      req.url = req.url.replace(this.options.build.publicPath, '/')\n      await this.serveStaticNuxt(req, res)\n      /* istanbul ignore next */\n      req.url = url\n    }\n    if (this.dev && req.url.indexOf(this.options.build.publicPath) === 0 && req.url.includes('.hot-update.json')) {\n      res.statusCode = 404\n      return res.end()\n    }\n    const { html, error, redirected, resourceHints } = await this.renderRoute(req.url, context)\n    if (redirected) {\n      return html\n    }\n    if (error) {\n      res.statusCode = context.nuxt.error.statusCode || 500\n    }\n    // ETag header\n    if (!error && this.options.render.etag) {\n      const etag = generateETag(html, this.options.render.etag)\n      if (fresh(req.headers, { etag })) {\n        res.statusCode = 304\n        res.end()\n        return\n      }\n      res.setHeader('ETag', etag)\n    }\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    // Parse resourceHints to extract HTTP.2 prefetch/push headers\n    // https://w3c.github.io/preload/#server-push-http-2\n    const regex = /link rel=\"([^\"]*)\" href=\"([^\"]*)\" as=\"([^\"]*)\"/g\n    const pushAssets = []\n    let m\n    while (m = regex.exec(resourceHints)) { // eslint-disable-line no-cond-assign\n      const [_, rel, href, as] = m // eslint-disable-line no-unused-vars\n      if (rel === 'preload') {\n        pushAssets.push(`<${href}>; rel=${rel}; as=${as}`)\n      }\n    }\n    res.setHeader('Link', pushAssets)\n    res.end(html, 'utf8')\n    return html\n  } catch (err) {\n    if (context.redirected) {\n      console.error(err) // eslint-disable-line no-console\n      return err\n    }\n    const html = this.errorTemplate({\n  /* istanbul ignore if */\n      error: err,\n      stack: ansiHTML(encodeHtml(err.stack))\n    })\n    res.statusCode = 500\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    return err\n  }\n}\n\nexport async function renderRoute (url, context = {}) {\n  // Wait for modules to be initialized\n  await this.ready()\n  // Log rendered url\n  debug(`Rendering url ${url}`)\n  // Add url and isSever to the context\n  context.url = url\n  context.isServer = true\n  // Call renderToString from the bundleRenderer and generate the HTML (will update the context as well)\n  let APP = await this.renderToString(context)\n  if (!context.nuxt.serverRendered) {\n    APP = '<div id=\"__nuxt\"></div>'\n  }\n  const m = context.meta.inject()\n  let HEAD = m.meta.text() + m.title.text() + m.link.text() + m.style.text() + m.script.text() + m.noscript.text()\n  if (this._routerBaseSpecified) {\n    HEAD += `<base href=\"${this.options.router.base}\">`\n  }\n  const resourceHints = context.renderResourceHints()\n  HEAD += resourceHints + context.renderStyles()\n  APP += `<script type=\"text/javascript\">window.__NUXT__=${serialize(context.nuxt, { isJSON: true })}</script>`\n  APP += context.renderScripts()\n  const html = this.appTemplate({\n    HTML_ATTRS: 'data-n-head-ssr ' + m.htmlAttrs.text(),\n    BODY_ATTRS: m.bodyAttrs.text(),\n    HEAD,\n    APP\n  })\n  return {\n    html,\n    resourceHints,\n    error: context.nuxt.error,\n    redirected: context.redirected\n  }\n}\n\n// Function used to do dom checking via jsdom\nlet jsdom = null\nexport async function renderAndGetWindow (url, opts = {}) {\n  /* istanbul ignore if */\n  if (!jsdom) {\n    try {\n      jsdom = require('jsdom')\n    } catch (e) {\n      console.error('Fail when calling nuxt.renderAndGetWindow(url)') // eslint-disable-line no-console\n      console.error('jsdom module is not installed') // eslint-disable-line no-console\n      console.error('Please install jsdom with: npm install --save-dev jsdom') // eslint-disable-line no-console\n      process.exit(1)\n    }\n  }\n  let options = {\n    resources: 'usable', // load subresources (https://github.com/tmpvar/jsdom#loading-subresources)\n    runScripts: 'dangerously',\n    beforeParse (window) {\n      // Mock window.scrollTo\n      window.scrollTo = () => {}\n    }\n  }\n  if (opts.virtualConsole !== false) {\n    options.virtualConsole = new jsdom.VirtualConsole().sendTo(console)\n  }\n  url = url || 'http://localhost:3000'\n  const { window } = await jsdom.JSDOM.fromURL(url, options)\n  // If Nuxt could not be loaded (error from the server-side)\n  const nuxtExists = window.document.body.innerHTML.includes('window.__NUXT__')\n  if (!nuxtExists) {\n    /* istanbul ignore next */\n    let error = new Error('Could not load the nuxt app')\n    /* istanbul ignore next */\n    error.body = window.document.body.innerHTML\n    throw error\n  }\n  // Used by nuxt.js to say when the components are loaded and the app ready\n  await new Promise((resolve) => {\n    window._onNuxtLoaded = () => resolve(window)\n  })\n  // Send back window object\n  return window\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/render.js","'use strict'\n\nconst http = require('http')\nconst connect = require('connect')\nconst path = require('path')\n\nclass Server {\n  constructor (nuxt) {\n    this.nuxt = nuxt\n    // Initialize\n    this.app = connect()\n    this.server = http.createServer(this.app)\n    this.nuxt.ready()\n    .then(() => {\n      // Add Middleware\n      this.nuxt.options.serverMiddleware.forEach(m => {\n        this.useMiddleware(m)\n      })\n      // Add default render middleware\n      this.useMiddleware(this.render.bind(this))\n    })\n    return this\n  }\n\n  useMiddleware (m) {\n    // Require if needed\n    if (typeof m === 'string') {\n      let src = m\n      // Using ~ or ./ shorthand to resolve from project srcDir\n      if (src.indexOf('~') === 0 || src.indexOf('./') === 0) {\n        src = path.join(this.nuxt.options.srcDir, src.substr(1))\n      }\n      // eslint-disable-next-line no-eval\n      m = eval('require')(src)\n    }\n    if (m instanceof Function) {\n      this.app.use(m)\n    } else if (m && m.path && m.handler) {\n      this.app.use(m.path, m.handler)\n    }\n  }\n\n  render (req, res, next) {\n    this.nuxt.render(req, res)\n    return this\n  }\n\n  listen (port, host) {\n    host = host || '127.0.0.1'\n    port = port || 3000\n    this.nuxt.ready()\n    .then(() => {\n      this.server.listen(port, host, () => {\n        console.log('Ready on http://%s:%s', host, port) // eslint-disable-line no-console\n      })\n    })\n    return this\n  }\n\n  close (cb) {\n    return this.server.close(cb)\n  }\n}\n\nexport default Server\n\n\n\n// WEBPACK FOOTER //\n// ./lib/server.js","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 26\n// module chunks = 0","'use strict'\n\nimport _ from 'lodash'\nimport compression from 'compression'\nimport fs from 'fs-extra'\nimport pify from 'pify'\nimport Server from './server'\nimport Module from './module'\nimport * as build from './build'\nimport * as render from './render'\nimport generate from './generate'\nimport serveStatic from 'serve-static'\nimport { resolve, join } from 'path'\nimport * as utils from './utils'\n\nclass Nuxt {\n  constructor (options = {}) {\n    const defaults = {\n      dev: (process.env.NODE_ENV !== 'production'),\n      buildDir: '.nuxt',\n      env: {},\n      head: {\n        meta: [],\n        link: [],\n        style: [],\n        script: []\n      },\n      plugins: [],\n      css: [],\n      modules: [],\n      layouts: {},\n      serverMiddleware: [],\n      ErrorPage: null,\n      loading: {\n        color: 'black',\n        failedColor: 'red',\n        height: '2px',\n        duration: 5000\n      },\n      transition: {\n        name: 'page',\n        mode: 'out-in'\n      },\n      router: {\n        mode: 'history',\n        base: '/',\n        middleware: [],\n        linkActiveClass: 'nuxt-link-active',\n        linkExactActiveClass: 'nuxt-link-exact-active',\n        extendRoutes: null,\n        scrollBehavior: null\n      },\n      render: {\n        static: {},\n        gzip: {\n          threshold: 0\n        },\n        etag: {\n          weak: true // Faster for responses > 5KB\n        }\n      },\n      watchers: {\n        webpack: {},\n        chokidar: {}\n      }\n    }\n    // Sanitization\n    if (options.loading === true) delete options.loading\n    if (options.router && typeof options.router.middleware === 'string') options.router.middleware = [ options.router.middleware ]\n    if (options.router && typeof options.router.base === 'string') {\n      this._routerBaseSpecified = true\n    }\n    if (typeof options.transition === 'string') options.transition = { name: options.transition }\n    this.options = _.defaultsDeep(options, defaults)\n    // Ready variable\n    this._ready = false\n    // Env variables\n    this.dev = this.options.dev\n    // Explicit srcDir, rootDir and buildDir\n    this.dir = (typeof options.rootDir === 'string' && options.rootDir ? options.rootDir : process.cwd())\n    this.srcDir = (typeof options.srcDir === 'string' && options.srcDir ? resolve(this.dir, options.srcDir) : this.dir)\n    this.buildDir = join(this.dir, options.buildDir)\n    options.rootDir = this.dir\n    options.srcDir = this.srcDir\n    options.buildDir = this.buildDir\n    // If store defined, update store options to true\n    if (fs.existsSync(join(this.srcDir, 'store'))) {\n      this.options.store = true\n    }\n    // If app.html is defined, set the template path to the user template\n    this.options.appTemplatePath = resolve(__dirname, 'views/app.template.html')\n    if (fs.existsSync(join(this.srcDir, 'app.html'))) {\n      this.options.appTemplatePath = join(this.srcDir, 'app.html')\n    }\n    // renderer used by Vue.js (via createBundleRenderer)\n    this.renderer = null\n    // For serving static/ files to /\n    this.serveStatic = pify(serveStatic(resolve(this.srcDir, 'static'), this.options.render.static))\n    // For serving .nuxt/dist/ files (only when build.publicPath is not an URL)\n    this.serveStaticNuxt = pify(serveStatic(resolve(this.buildDir, 'dist'), {\n      maxAge: (this.dev ? 0 : '1y') // 1 year in production\n    }))\n    // gzip middleware for production\n    if (!this.dev && this.options.render.gzip) {\n      this.gzipMiddleware = pify(compression(this.options.render.gzip))\n    }\n    // Add this.Server Class\n    this.Server = Server\n    // Add this.build\n    build.options.call(this) // Add build options\n    this.build = build.build.bind(this)\n    // Error template\n    this.errorTemplate = _.template(fs.readFileSync(resolve(__dirname, 'views', 'error.html'), 'utf8'), {\n      interpolate: /{{([\\s\\S]+?)}}/g\n    })\n    // Add this.render and this.renderRoute\n    this.render = render.render.bind(this)\n    this.renderRoute = render.renderRoute.bind(this)\n    this.renderAndGetWindow = render.renderAndGetWindow.bind(this)\n    // Add this.generate\n    this.generate = generate.bind(this)\n    // Add this.utils (tests purpose)\n    this.utils = utils\n    // Add module integration\n    this.module = new Module(this)\n    // Init nuxt.js\n    this._ready = this.ready()\n    // Return nuxt.js instance\n    return this\n  }\n\n  async ready () {\n    if (this._ready) {\n      await this._ready\n      return this\n    }\n    // Init modules\n    await this.module.ready()\n    // Launch build in development but don't wait for it to be finished\n    if (this.dev) {\n      this.build()\n    } else {\n      build.production.call(this)\n    }\n    return this\n  }\n\n  close (callback) {\n    let promises = []\n    /* istanbul ignore if */\n    if (this.webpackDevMiddleware) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackDevMiddleware.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.webpackServerWatcher) {\n      const p = new Promise((resolve, reject) => {\n        this.webpackServerWatcher.close(() => resolve())\n      })\n      promises.push(p)\n    }\n    /* istanbul ignore if */\n    if (this.filesWatcher) {\n      this.filesWatcher.close()\n    }\n    /* istanbul ignore if */\n    if (this.customFilesWatcher) {\n      this.customFilesWatcher.close()\n    }\n    return Promise.all(promises).then(() => {\n      if (typeof callback === 'function') callback()\n    })\n  }\n}\n\nexport default Nuxt\n\n\n\n// WEBPACK FOOTER //\n// ./lib/nuxt.js","'use strict'\n\nimport { each, defaults } from 'lodash'\nimport webpack from 'webpack'\nimport VueSSRClientPlugin from 'vue-server-renderer/client-plugin'\nimport HTMLPlugin from 'html-webpack-plugin'\nimport FriendlyErrorsWebpackPlugin from 'friendly-errors-webpack-plugin'\nimport ProgressBarPlugin from 'progress-bar-webpack-plugin'\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer'\nimport OfflinePlugin from 'offline-plugin'\nimport base from './base.config.js'\nimport { resolve } from 'path'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Client Config\n|\n| Generate public/dist/client-vendor-bundle.js\n| Generate public/dist/client-bundle.js\n|\n| In production, will generate public/dist/style.css\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isClient: true })\n\n  // Entry\n  config.entry.app = resolve(this.buildDir, 'client.js')\n\n  // Add vendors\n  if (this.options.store) {\n    config.entry.vendor.push('vuex')\n  }\n  config.entry.vendor = config.entry.vendor.concat(this.options.build.vendor)\n\n  // Output\n  config.output.path = resolve(this.buildDir, 'dist')\n  config.output.filename = this.options.build.filenames.app\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n  // Webpack plugins\n  config.plugins = (config.plugins || []).concat([\n    // Strip comments in Vue code\n    new webpack.DefinePlugin(Object.assign(env, {\n      'process.env.NODE_ENV': JSON.stringify(env.NODE_ENV || (this.dev ? 'development' : 'production')),\n      'process.BROWSER_BUILD': true,\n      'process.SERVER_BUILD': false,\n      'process.browser': true,\n      'process.server': true\n    })),\n    // Extract vendor chunks for better caching\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      filename: this.options.build.filenames.vendor,\n      minChunks (module) {\n        // A module is extracted into the vendor chunk when...\n        return (\n          // If it's inside node_modules\n          /node_modules/.test(module.context) &&\n          // Do not externalize if the request is a CSS file\n          !/\\.(css|less|scss|sass|styl|stylus)$/.test(module.request)\n        )\n      }\n    }),\n    // Extract webpack runtime & manifest\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'manifest',\n      minChunks: Infinity,\n      filename: this.options.build.filenames.manifest\n    }),\n    // Generate output HTML\n    new HTMLPlugin({\n      template: this.options.appTemplatePath,\n      inject: false // <- Resources will be injected using vue server renderer\n    }),\n    // Generate client manifest json\n    new VueSSRClientPlugin({\n      filename: 'client-manifest.json'\n    })\n  ])\n  // client bundle progress bar\n  config.plugins.push(\n    new ProgressBarPlugin()\n  )\n  // Add friendly error plugin\n  if (this.dev) {\n    config.plugins.push(new FriendlyErrorsWebpackPlugin())\n  }\n  // Production client build\n  if (!this.dev) {\n    config.plugins.push(\n      // This is needed in webpack 2 for minifying CSS\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      }),\n      // Minify JS\n      new webpack.optimize.UglifyJsPlugin({\n        sourceMap: true,\n        compress: {\n          warnings: false\n        }\n      })\n    )\n  }\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend.call(this, config, {\n      dev: this.dev,\n      isClient: true\n    })\n  }\n  // Offline-plugin integration\n  if (!this.dev && this.options.offline) {\n    const offlineOpts = typeof this.options.offline === 'object' ? this.options.offline : {}\n    config.plugins.push(\n      new OfflinePlugin(defaults(offlineOpts, {}))\n    )\n  }\n  // Webpack Bundle Analyzer\n  if (!this.dev && this.options.build.analyze) {\n    let options = {}\n    if (typeof this.options.build.analyze === 'object') {\n      options = this.options.build.analyze\n    }\n    config.plugins.push(\n      new BundleAnalyzerPlugin(options)\n    )\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/client.config.js","'use strict'\n\nimport webpack from 'webpack'\nimport VueSSRServerPlugin from 'vue-server-renderer/server-plugin'\nimport nodeExternals from 'webpack-node-externals'\nimport base from './base.config.js'\nimport { each } from 'lodash'\nimport { resolve } from 'path'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Server Config\n|--------------------------------------------------------------------------\n*/\nexport default function () {\n  let config = base.call(this, { isServer: true })\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (typeof value === 'string' ? JSON.stringify(value) : value)\n  })\n\n  config = Object.assign(config, {\n    target: 'node',\n    devtool: (this.dev ? 'source-map' : false),\n    entry: resolve(this.buildDir, 'server.js'),\n    output: Object.assign({}, config.output, {\n      path: resolve(this.buildDir, 'dist'),\n      filename: 'server-bundle.js',\n      libraryTarget: 'commonjs2'\n    }),\n    performance: {\n      hints: false\n    },\n    externals: [\n      nodeExternals({\n        // load non-javascript files with extensions, presumably via loaders\n        whitelist: [/\\.(?!(?:js|json)$).{1,5}$/i]\n      })\n    ],\n    plugins: (config.plugins || []).concat([\n      new VueSSRServerPlugin({\n        filename: 'server-bundle.json'\n      }),\n      new webpack.DefinePlugin(Object.assign(env, {\n        'process.env.NODE_ENV': JSON.stringify(this.dev ? 'development' : 'production'),\n        'process.BROWSER_BUILD': false, // deprecated\n        'process.SERVER_BUILD': true,  // deprecated\n        'process.browser': false,\n        'process.server': true\n      }))\n    ])\n  })\n  // This is needed in webpack 2 for minifying CSS\n  if (!this.dev) {\n    config.plugins.push(\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      })\n    )\n  }\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    this.options.build.extend(config, {\n      dev: this.dev,\n      isServer: true\n    })\n  }\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/server.config.js","'use strict'\n\nimport { defaults } from 'lodash'\nimport { extractStyles, styleLoader } from './helpers'\n\nexport default function ({ isClient }) {\n  let babelOptions = JSON.stringify(defaults(this.options.build.babel, {\n    presets: ['vue-app'],\n    babelrc: false,\n    cacheDirectory: !!this.dev\n  }))\n\n  // https://github.com/vuejs/vue-loader/blob/master/docs/en/configurations\n  let config = {\n    postcss: this.options.build.postcss,\n    loaders: {\n      'js': 'babel-loader?' + babelOptions,\n      'css': styleLoader.call(this, 'css'),\n      'less': styleLoader.call(this, 'less', 'less-loader'),\n      'sass': styleLoader.call(this, 'sass', 'sass-loader?indentedSyntax&?sourceMap'),\n      'scss': styleLoader.call(this, 'sass', 'sass-loader?sourceMap'),\n      'stylus': styleLoader.call(this, 'stylus', 'stylus-loader'),\n      'styl': styleLoader.call(this, 'stylus', 'stylus-loader')\n    },\n    preserveWhitespace: false,\n    extractCSS: extractStyles.call(this)\n  }\n  // Return the config\n  return config\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/webpack/vue-loader.config.js","module.exports = require(\"ansi-html\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ansi-html\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/array/from\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/slicedToArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/slicedToArray\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"chokidar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chokidar\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"connect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"connect\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"etag\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"etag\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"fresh\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fresh\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"friendly-errors-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"friendly-errors-webpack-plugin\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"glob\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"glob\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"html-minifier\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-minifier\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"html-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"html-webpack-plugin\"\n// module id = 43\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 44\n// module chunks = 0","module.exports = require(\"jsdom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsdom\"\n// module id = 45\n// module chunks = 0","module.exports = require(\"memory-fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"memory-fs\"\n// module id = 46\n// module chunks = 0","module.exports = require(\"offline-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"offline-plugin\"\n// module id = 47\n// module chunks = 0","module.exports = require(\"post-compile-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"post-compile-webpack-plugin\"\n// module id = 48\n// module chunks = 0","module.exports = require(\"progress-bar-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"progress-bar-webpack-plugin\"\n// module id = 49\n// module chunks = 0","module.exports = require(\"vue-server-renderer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer\"\n// module id = 50\n// module chunks = 0","module.exports = require(\"vue-server-renderer/client-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer/client-plugin\"\n// module id = 51\n// module chunks = 0","module.exports = require(\"vue-server-renderer/server-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue-server-renderer/server-plugin\"\n// module id = 52\n// module chunks = 0","module.exports = require(\"webpack-bundle-analyzer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-bundle-analyzer\"\n// module id = 53\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 55\n// module chunks = 0","module.exports = require(\"webpack-node-externals\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-node-externals\"\n// module id = 56\n// module chunks = 0"],"sourceRoot":""}